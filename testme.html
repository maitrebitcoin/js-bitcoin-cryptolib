<!DOCTYPE html>
<html>
<body>

<h1>Page de test de \js-bitcoin-cryptolib</h1>


<button onclick="testfunc()"> <h2> Click me </h2> </button>

<p id="resultat"></p>

<script src='Corps.js'></script>


<script>

function testBugInt() {
    var p = BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F");
    return p.toString();
}

// convert a BigIntbig to hexadecimal string.
// ex: "79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798""
function toHexa( bigIntNumber ){
    console.assert( typeof  bigIntNumber == 'bigint' )
    if (bigIntNumber == 0) return '0';

    var hResult = ''
    while (bigIntNumber > 0)
    {
        // low 4 bits
        var n = parseInt( bigIntNumber % BigInt(16) );
        // kex caracters 0-1 or A-F
        var hc 
        if (n>=10)
            hc = String.fromCharCode(55+n) // 65 = 'A', 55 = 65-10
        else
            hc = String.fromCharCode(48+n) // 48 = '0'
        // next 4 bytes
        hResult = hc + hResult
        bigIntNumber = bigIntNumber /BigInt(16);
    }
    console.assert( hResult != '');
    return hResult
}


function testfunc() {
 var p  = BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F");
 var gx = BigInt("0x79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798");
 var gy = BigInt("0x483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8"); 
var x2 = BigInt("0x4");
 c = new Corps( p );
 var rr = c.mult( gx, gy )

  document.getElementById("resultat").innerHTML = toHexa(p); //testBugInt();
}
</script>

</body>
</html>